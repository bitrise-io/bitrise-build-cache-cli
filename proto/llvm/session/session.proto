syntax = "proto3";

option go_package = "github.com/bitrise-io/bitrise-build-cache-cli/llvm/session;session";

package session;

import "google/protobuf/empty.proto";

service Session {
  rpc SetSession (SetSessionRequest) returns (google.protobuf.Empty) {}
  rpc GetSessionStats (google.protobuf.Empty) returns (GetSessionStatsResponse) {}
}

message SetSessionRequest {
  string invocation_id = 1;
  string app_slug = 2;
  string build_slug = 3;
  string step_slug = 4;
}

message GetSessionStatsResponse {
  int64 uploaded_bytes = 1;
  int64 downloaded_bytes = 2;
  int64 hits = 3;
  int64 misses = 4;
  int64 uploads = 5;
  int64 kv_hits = 6;
  int64 kv_misses = 7;
  int64 kv_uploaded_bytes = 8;
}
